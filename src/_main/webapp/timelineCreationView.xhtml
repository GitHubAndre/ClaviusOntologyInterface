<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core">


    <p:dialog header="Timeline Creation" widgetVar="timelineCreationDialog" width="700" height="450" resizable="false" modal="true">

        <p:ajax event="close" listener="#{timelineCreationDialogController.closeDialog()}"/>

        <h:form id="timelineCreationForm">

            <h:panelGrid id="timelinePanel" style="margin-bottom:10px">
                <h:outputLabel value="Period name: "/>
                <h:inputText id="periodName" value="#{timelineCreationDialogController.periodName}" valueChangeListener="#{timelineCreationDialogController.periodName_Changing}"/>
                <br/>
                <h:outputText id="displayRange" value="First interval between #{timelineCreationDialogController.min_1} and #{timelineCreationDialogController.max_1}" />
                <p:selectOneButton id="typeInterval_1" styleClass="translationToolbarButton historyButton" value="#{timelineCreationDialogController.intervalType_1}"
                                   valueChangeListener="#{timelineCreationDialogController.intervalType_1_Changing}">
                    <p:ajax listener="#{timelineCreationDialogController.intervalType_1_Changed}" update="sliderInterval_1" />
                    <f:selectItem itemLabel="closed" itemValue="closed" />
                    <f:selectItem itemLabel="left-open" itemValue="left-open" />
                    <f:selectItem itemLabel="right-open" itemValue="right-open" />
                </p:selectOneButton>
                <h:inputHidden id="a1" value="#{timelineCreationDialogController.min_1}" />
                <h:inputHidden id="b1" value="#{timelineCreationDialogController.max_1}" />
                <p:slider id="sliderInterval_1" styleClass="translationToolbarButton historyButton" for="a1,b1" display="displayRange" style="width: 650px" range="true" displayTemplate="First interval between {min} and {max}" minValue="0" maxValue="1500" step="10">
                    <p:ajax event="slideEnd" listener="#{timelineCreationDialogController.onSlideEnd_1}" update="typeInterval_1" />
                </p:slider>
                <br/>
                <h:outputText id="displayRange2" value="Second interval between #{timelineCreationDialogController.min_2} and #{timelineCreationDialogController.max_2}" />
                <p:selectOneButton id="typeInterval_2" styleClass="translationToolbarButton historyButton" value="#{timelineCreationDialogController.intervalType_2}"
                                   valueChangeListener="#{timelineCreationDialogController.intervalType_2_Changing}">
                    <p:ajax listener="#{timelineCreationDialogController.intervalType_2_Changed}" update="sliderInterval_2" />
                    <f:selectItem itemLabel="closed" itemValue="closed" />
                    <f:selectItem itemLabel="left-open" itemValue="left-open" />
                    <f:selectItem itemLabel="right-open" itemValue="right-open" />
                </p:selectOneButton>
                <h:inputHidden id="a2" value="#{timelineCreationDialogController.min_2}" />
                <h:inputHidden id="b2" value="#{timelineCreationDialogController.max_2}" />
                <p:slider id="sliderInterval_2" styleClass="translationToolbarButton historyButton" for="a2,b2" display="displayRange2" style="width: 650px" range="true" displayTemplate="Second interval between {min} and {max}" minValue="0" maxValue="1500" step="10">
                    <p:ajax event="slideEnd" listener="#{timelineCreationDialogController.onSlideEnd_2}" update="typeInterval_2" />
                </p:slider>
                <br/>
                <h:outputText id="displayRange3" value="Third interval between #{timelineCreationDialogController.min_3} and #{timelineCreationDialogController.max_3}" />
                <p:selectOneButton id="typeInterval_3" styleClass="translationToolbarButton historyButton" value="#{timelineCreationDialogController.intervalType_3}"
                                   valueChangeListener="#{timelineCreationDialogController.intervalType_3_Changing}">
                    <p:ajax listener="#{timelineCreationDialogController.intervalType_3_Changed}" update="sliderInterval_3" />
                    <f:selectItem itemLabel="closed" itemValue="closed" />
                    <f:selectItem itemLabel="left-open" itemValue="left-open" />
                    <f:selectItem itemLabel="right-open" itemValue="right-open" />
                </p:selectOneButton>
                <h:inputHidden id="a3" value="#{timelineCreationDialogController.min_3}" />
                <h:inputHidden id="b3" value="#{timelineCreationDialogController.max_3}" />
                <p:slider id="sliderInterval_3" styleClass="translationToolbarButton historyButton" for="a3,b3" display="displayRange3" style="width: 650px" range="true" displayTemplate="Third interval between {min} and {max}" minValue="0" maxValue="1500" step="10">
                    <p:ajax event="slideEnd" listener="#{timelineCreationDialogController.onSlideEnd_3}" update="typeInterval_3" />
                </p:slider>
            </h:panelGrid>
            <br/>
            <p:commandButton value="Submit" styleClass="translationToolbarButton historyButton" style="position:relative;left:300px" icon="ui-icon-check" 
                             action="#{timelineCreationDialogController.saveTimeline}" update=":messages :uploadForm :fileStatView :toolbarForm" 
                             oncomplete="PF('timelineCreationDialog').hide();"/>

        </h:form>

    </p:dialog>

</ui:composition>

